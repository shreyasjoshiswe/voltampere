generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Simulation {
  id                 String   @id @default(cuid())
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  numChargepoints    Int
  arrivalMultiplier  Float
  carConsumption     Float
  chargingPower      Float

  results            SimulationResult?
}

model SimulationResult {
  id                  String   @id @default(cuid())
  createdAt           DateTime @default(now())

  simulationId        String   @unique
  simulation          Simulation @relation(fields: [simulationId], references: [id], onDelete: Cascade)

  totalEnergyKwh      Float
  theoreticalMaxKw    Float
  actualMaxKw         Float
  concurrencyFactor   Float
  chargingEvents      Int

  powerProfile        Json?
}
